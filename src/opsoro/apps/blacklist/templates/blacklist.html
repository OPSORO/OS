{% extends "app_base.html" %}
{% block app_head %}{% endblock %}

{% block app_toolbar %}

{% endblock %}

{% block app_content %}

<div class="main">

	<fieldset>
		<legend>
			<span class="fa fa-cog"></span>
			Banlist words
		</legend>

		<div class="bans">
			<div id="bans">
				<form class="banlist">

				<!-- de header van de blacklsit words -->
				<ul class="bans ban_list">
					<li class="ban-container">
				    <div class="blacklist">
				      <span class="banIcon"></span>
				      <div class="ban_data">
				        <p>
				          <span> <b>Banned Word </b></span>
									<span> <b>replaced word </b></span>
									<a class="action button" data-bind="click: saveAll" style="padding-left: 2rem; padding-right: 2rem;">Save All</a>

				        </p>
				      </div>
				  	</div>
				  </li>
				</ul>

				<!-- inladen van onze objecten via de json  -->
				<ul class="bans ban_list" data-bind="template: {name: 'blacklistTemplate', foreach: bans}"></ul>

			</form>

			</div>
		</div>

	</fieldset>

	<fieldset>
		<legend>
			<span class="fa fa-cloud-download"></span>
			Add
		</legend>
		<form class="addBan">

			<div class="row">
				<div class="small-4 medium-4 large-4 columns">
					<label for="wordBan" class="text-right inline">Banned Word</label>
				</div>
				<div class="small-8 medium-6 large-4 columns end">
					<input type="text" id="wordBan" name="wordBan" value="" data-bind="value: wordBan" required pattern="[a-zA-Z]+">
					<input type="text" id="replacedWord" name="replacedWord" value="pudding" data-bind="value: replacedWord" required pattern="[a-zA-Z]+{2,20}" style="display:none">
					<small class="error">A valid word is required</small>
				</div>
			</div>

			<div class="row">
				<div class="text-center">
					<!-- <a href="#" data-open="UpdateModal" class="action button" style="padding-left: 2rem; padding-right: 2rem;"> -->
					<a class="action button" data-bind="click: saveBannedWord" style="padding-left: 2rem; padding-right: 2rem;">
						<span class="fa fa-save"></span>
						 &nbsp;Save!
					 </a>
				</div>
			</div>
		</form>

	</fieldset>
</div>

{% endblock %}
{% block app_modals %}

<!-- het app model voor de toegevoegde objecten -->
<script id="blacklistTemplate" type="text/template">
  <li class="ban-container">
    <div class="blacklist">
      <span class="banIcon"></span>
      <div class="ban_data">
        <p>
					<span data-bind="text: wordBan"></span>
					<input data-bind="value: replacedWord" class="small-8 medium-6 large-4 columns center" type="text" name="replasedword" value="pudding">
          <a class="removeBanItem" data-bind="click: removeBanItem" href="#">Delete</a>
        </p>
      </div>
  </div>
  </li>
</script>

{% endblock %}
{% block app_scripts %}

<!-- het load script voor de opgeslane json in te laden hier gedaan anders bestaan de objecten niet omdat de js eerst geladen word en dan pas de html kent hij de tempalte nog niet! -->
<script>
	//var action_data = {{ actions|tojson|safe }};
	$(window).bind("load", function() {
		self.loadBlacklist();
	});
</script>

{% endblock %}
