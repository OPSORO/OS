{% extends "app_base.html" %}
{% block app_head %}

	<!-- <script src="/site_media/static/js/....js"></script> -->
	<script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>
	<script src="http://knockoutjs.com/downloads/knockout-3.4.2.js"></script>
	<link rel="stylesheet" type="text/css" href="/apps/opa/static/css/animate.min.css">

{% endblock %}

<!-- These sidebars can be removed by removing the block tags -->


{% block sidebar_right %}{% endblock %}

{% block app_content %}
	<div class="">
	<ul class="accordion" data-responsive-accordion-tabs="tabs small-accordion medium-tabs large-tabs" id="settings-tabs">
	  	<li class="accordion-item is-active" data-accordion-item>
			<a href="#my_applets">
				<span class="fa fa-th"></span> My Applets
			</a>
			<div class="accordion-content" data-tab-content>
				<div class="applets">
				<fieldset id="filters">
					<legend>
						<span class="fa fa-filter"></span>
						Filters
						<span class="fa fa-caret-down"></span>
					</legend>

					<div class="row">
						<div class="flex-container">
							<!-- Filters hier -->
							<div id="protocolcontrol">
								<ul data-bind="foreach: protocol" class="no-margin">
									<li class="protocolcontrol">
									<input type="checkbox"  data-bind="checked:selected, attr: {id: 'checkBox' + id}">
									<label data-bind="text: name, attr:{for: 'checkBox'+id}"></label>
									</li>
								</ul>
						</div>
						</div>
					</div>

				</fieldset>
				<fieldset>
					<legend>
						<span class="fa fa-th-large"></span>
						My Applets
					</legend>

					<div class="row">
						<div class="flex-container"  data-bind="foreach: filteredProtocols">
							<div  class="applet hidden animated bounceIn" data-bind="style: { 'background-color': Applet_color}">
								<a   data-bind="attr: { href: Applet_url }">
									<div  class="applet-content">
										<img data-bind="attr: { src: Applet_logo }" alt="" class="logo animated  rotateIn"/>
										<h3 data-bind="text: Applet_name"></h3>
										<p>
											<span class="text-muted">By</span> Opsoro
										</p>
									</div>
									<div class="applet-footer" style="background-color:black">
										Uses Maker Webhook
									</div>
								</a>
							</div>
						</div>
						
					</div>

				</fieldset>
				</div>	
	    	</div>
		</li>
	 	<li class="accordion-item" data-accordion-item>
			<a href="#commands" class="accordion-title">
				<span class="fa fa-terminal"></span> Commands
			</a>
			<div class="accordion-content" data-tab-content>
				<fieldset>
					<legend>
						Command Queue
					</legend>

					<div class="row">
						<div id="cmdqueue" class="connected-sortable">
							<div command-id="placeholder" id="cmdqueue-placeholder" class="disabled">
								<p></span>Double tap a command below to queue it here. Click on a command to remove it from the queue.</p>
							</div>
							
						</div>
					</div>
				</fieldset>
				<fieldset>
					<legend>
						<span class="fa fa-terminal"></span>
						Commands
					</legend>
					<div class="row">
						<div class="flex-container search-container">
							<input class="search" placeholder="Searchâ€¦" type="search" data-bind="textInput: commandQuery" autocomplete="off">
							<span class="fa fa-search search-icon" aria-hidden="true"></span>
						</div>
					</div>

					<div class="row">
						<div id="cmdgrid" class="flex-container connected-sortable" data-bind="foreach: filteredCommands">
							<div class="command animated bounceIn" data-bind="attr: { 'command-id': Command_id},style: { 'background-color': Command_color}">
								<a>
									<div class="command-content">
										
										<label class="options-cog" data-bind="attr: { 'for': Command_id}"><span class="fa fa-cog" aria-hidden="true"></span></label>
										<input class="hidden" type="checkbox" data-bind="checked: Command_displayOptions,attr: { 'id': Command_id}"/>
										<h3 data-bind="text: Command_description"></h3>
										<div class="options animated flipInY" data-bind="visible: Command_displayOptions">
											<!-- DO NOT REMOVE !!!! ko in commentaar is code dus niet verwijderen-->
											<!-- ko  if: Command_customizeable-->
												<input class="message" type="text" placeholder="Type your message here." data-bind="textInput: Command_message">
											<!--/ko-->
											<!-- ko  ifnot: Command_customizeable-->
												<input class="message" type="hidden" value="" >
											<!--/ko-->
											<select class="expression" data-bind='options: Command_expressions,value: Command_selectedReaction'> </select>
											<div class="tts-div">
												<input class="tts" id="tts" type="checkbox" data-bind='checked: Command_saySomething'/> 
												<label for="tts">Speak</label>
												<input class="playSound" id="playSound" type="checkbox" data-bind='checked: Command_displaySoundOptions'/>
												<label for="playSound">Play sound</label>
											</div>
											<select class="sound" data-bind='options: Command_sounds,value: Command_selectedSound,visible: Command_displaySoundOptions'> </select>
											<input type="hidden" data-bind="value: Command_say" class="say"></input>
											<input type="hidden" data-bind="value: Command_type" class="type"></input>
											<input type="hidden" data-bind="value: Command_eventname" class="eventname"></input>
										</div>
										<div class="animated flipInY" data-bind="visible: !Command_displayOptions()">
											<p data-bind="text: Command_message"></p>
											<p><span class="text-muted">Reaction: </span><span data-bind="text: Command_selectedReaction"></span></p>
											<p data-bind="visible: Command_displaySoundOptions"><span class="text-muted">Play sound: </span><span data-bind="text: Command_selectedSound"></span></p>
											<p data-bind="visible: Command_saySomething"><span class="text-muted">Say something: </span><span data-bind="text: Command_saySomething"></span></p>
										</div>	
									</div>
									<div data-bind="text: Command_uses" class="command-footer" style="background-color:black">
									</div>
								</a>
							</div>
						</div>
					</div>

				</fieldset>
	    	</div>
		</li>
		 <li class="accordion-item" data-accordion-item>
			<a href="#Activity" class="accordion-title">
				<span class="fa fa-bar-chart"></span> Activity
			</a>
			<div class="accordion-content" data-tab-content>
				<fieldset>
					<legend>
						Activity
					</legend>

					<div class="row activities">
					{% for activity in activity  %}
							<div class="activity animated bounceIn " >
								<div class="activity_headers">
									<img class="icon" src="//web-assets.ifttt.com/assets/web/activity/icons-v2/check-3fdd5e5a0e88fac1838037e4ca46d02b6571fed09ab00497d94c7bfd6586cdc8.svg" alt="Check">	<h4>Applet ran</h4>
									<p class="date-time">{{activity.date}} - {{activity.time}}</p>
								</div>
								<div class="activity_content" style="background-color:{{activity.color}}">
									<h5 class="activity_service">{{ activity.service}}</h5>
									<p><span class="text-muted">by</span> Opsoro</p>
								</div>
							</div>
					{% endfor %}	
					</div>
				</fieldset>
	    	</div>
		</li>	    
			<li class="accordion-item" data-accordion-item>
		<a href="#personal-assistant">
			<span class="fa fa-android"></span> Personal Assistant
		</a>
		<div class="accordion-content" data-tab-content>
			<fieldset>
				<legend>
					<span class="fa fa-android"></span>
					Set your Personal Assistant's name</legend>
				<div class="row">
					<form action="name" method="POST">
						<div class="small-4 medium-4 large-4 columns">
							<label for="robotName" class="text-right inline">Personal Assistant's name</label>
						</div>
						<div class="small-8 medium-6 large-4 columns end">
							<input type="text" id="robotName" name="robotName" value=""  required pattern="[a-zA-Z]+">
							<button type="submit" class="button" style="margin-right:30%">Save</button>
						</div>
					</form>
				</div>
			</fieldset>
		</div>
	</li>
	<li class="accordion-item" data-accordion-item>
		<a href="#ifttt-account">
			<span class="fa fa-fw fa-user"></span> IFTTT Account
		</a>
		<div class="accordion-content" data-tab-content>
			<fieldset>
				<legend>
					<span class="fa fa-user"></span>
					Create an IFTTT account
				</legend>
				<div class="row">
					<div class="content">
							<p>With a free IFTTT account you can manage your account information, manage your own applets and connect with services like Amazon, Facebook, Instagram, Skype, .... Click on the button below to create an IFTTT account.</p></br>
							<a href="https://ifttt.com/join" target="blank"><button type="submit" class="button" style="margin-right:30%">Create IFTTT account</button></a>
					</div>
				</div>
			</fieldset>
			<fieldset>
				<legend>
					<span class="fa fa-mobile"></span>
					Connect your phone with the IFTTT app
				</legend>
				<div class="row">
					<div class="content">
						<p>By using the IFTTT app, you can manage your account information, manage your own applets and connect with services like Amazon, Facebook, Instagram, Skype, .... Click on one of the buttons below to download and install the IFTTT app for Android or iOS</p></br>
						<a href="https://play.google.com/store/apps/details?id=com.ifttt.ifttt" target="blank"><button type="submit" class="button" style="margin-right:30%" >Download Android app</button></a>
						<a href="https://itunes.apple.com/nl/app/ifttt/id660944635" target="blank"><button type="submit" class="button" style="margin-right:30%" >Download iOS app</button></a>
					</div>
				</div>
			</fieldset>
		</div>
	</li>

	<li class="accordion-item" data-accordion-item>
		<a href="#recipes">
			<span class="fa fa-fw fa-gear"></span> Create Applets
		</a>
		<div class="accordion-content" data-tab-content>
			<fieldset>
				<legend>
					<span class="fa fa-gear"></span>
					STEP 1
				</legend>
				<div class="row">
					<div class="content">
							<p>Go to the IFTTT website and sign in with the account that you have created earlier.</p></br>
							<a href="https://ifttt.com/login" target="blank"><button type="submit" class="button" style="margin-right:30%">Go to IFTTT website</button></a>
					</div>
				</div>
		</fieldset>
		<fieldset>
			<legend>
				<span class="fa fa-gear"></span>
				STEP 2
			</legend>
			<div class="row">
				<div class="content">
					<p>When you are signed in, choose in the menu above for My Applets. Now you will see all the applets you have created earlier. Choose for New Applet.</p>
					<img src="static/images/screenshot-opsoro-step2.png">
				</div>
			</div>
		</fieldset>
		<fieldset>
			<legend>
				<span class="fa fa-gear"></span>
				STEP 3
			</legend>
			<div class="row">
				<div class="content">
					<p>Now you will see a page with IF THIS THEN THAT. Click on THIS and choose a service. You can choose any service you want. Follow the steps on-screen to configure your service.</p>
					<img src="static/images/screenshot-opsoro-step3.png">
				</div>
			</div>
		</fieldset>
		<fieldset>
			<legend>
				<span class="fa fa-gear"></span>
				STEP 4
			</legend>
			<div class="row">
				<div class="content">
					<p>After you have succesfully created your service, you will return to the IF THIS THEN THAT page. Now click on THAT and choose Maker Webhooks as action service.</p>
					<img src="static/images/screenshot-opsoro-step4.png">
				</div>
			</div>
		</fieldset>
		<fieldset>
			<legend>
				<span class="fa fa-gear"></span>
				STEP 5
			</legend>
			<div class="row">
				<div class="content">
					<p>Choose to make a web request. Fill in the form as shown in the image below. The BODY may vary depending on your chosen service. You can add options in the BODY field by clicking on Add ingredient.</p>
					<img src="static/images/screenshot-opsoro-step5.png">
				</div>
			</div>
		</fieldset>
		<fieldset>
			<legend>
				<span class="fa fa-gear"></span>
				STEP 6
			</legend>
			<div class="row">
				<div class="content">
					<p>In the last step you get an overview of the applet you have just created. To create the applet click on Finish.</p>
				</div>
			</div>
		</fieldset>
	</div>
	</li>
	</ul>
</div>

{% endblock %}
{% block app_scripts %}

	<script>
		// var action_data = {{ actions|tojson|safe }};

		// var data = {{ data|tojson|safe }};
	</script>

	<!-- <script src="/site_media/static/js/....js"></script> -->

{% endblock %}
{% block app_modals %}
{% endblock %}
